{% extends "base.html" %}

{% block title %}
             <title>新用户注册</title>
{% endblock %}
{% block head %}
    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        @media (min-width: 768px) {
            .bd-placeholder-img-lg {
                font-size: 3.5rem;
            }
        }
    </style>
    <link href="{{ url_for('static',filename='css/login.css') }}" rel="stylesheet">
    {{ bootstrap.load_css() }}
    {{ moment.include_jquery() }}
    {{ moment.include_moment() }}
{% endblock %}

{% block js %}
    {{ bootstrap.load_js() }}
{% endblock %}

{% block body %}

        <form class="form-signin text-center" id="LoginForm" method="POST">
            <img class="mb-4" src="{{ url_for('static',filename='image/logo.jpg') }}" alt="" width="72" height="72">
            <h1 class="h3 mb-3 font-weight-normal">用户注册</h1>
            <hr>
            {{ form.csrf_token }}
            {% with messages = get_flashed_messages() %}
            <div>
            {{ form.username.label(class="sr-only") }}
            {{ form.username(class="form-control") }}
            {% if messages and messages[0].username %}
                    <div class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-dismiss="alert"
                                aria-hidden="true">
                            &times;
                        </button>
                         <small class="error">{{ messages and messages[0].username[0] }}</small><br>
                    </div>
            {% endif %}
            <br>
                </div>
            <div>
            {{ form.password.label(class="sr-only")}}
            {{ form.password(class="form-control") }}

            {{ form.cheack_password.label(class="sr-only")}}
            {{ form.cheack_password(class="form-control") }}
            {% if messages and messages[0].password %}
                    <div class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-dismiss="alert"
                                aria-hidden="true">
                            &times;
                        </button>
                         <small class="error">{{ messages and messages[0].password[0] }}</small><br>
                    </div>
            {% endif %}
            <br>
                </div>
            <div>
            {{ form.email.label(class="sr-only")}}
            {{ form.email(class="form-control") }}
            {% if messages and messages[0].email %}
                    <div class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-dismiss="alert"
                                aria-hidden="true">
                            &times;
                        </button>
                         <small class="error">{{ messages and messages[0].email[0] }}</small><br>
                    </div>
            {% endif %}
            <br>
                </div>
            <div>
            {{ form.phone.label(class="sr-only")}}
            {{ form.phone(class="form-control") }}
              {% if messages and messages[0].phone %}
                    <div class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-dismiss="alert"
                                aria-hidden="true">
                            &times;
                        </button>
                         <small class="error">{{ messages and messages[0].phone[0] }}</small><br>
                    </div>
            {% endif %}
            <br>
            </div>
            <div>
                {{ form.sex.label(class="sr-only")}}
                {{ form.sex(class="form-control") }}
            </div><br>
            <div>
                <p class="text-left">上传头像文件:</p>
            {{ form.user_face.label(class="sr-only")}}
            {{ form.user_face(class="form-control") }}
            {% if messages and messages[0].user_face %}
                    <div class="alert alert-danger alert-dismissable">
                        <button type="button" class="close" data-dismiss="alert"
                                aria-hidden="true">
                            &times;
                        </button>
                         <small class="error">{{ messages and messages[0].user_face[0] }}</small><br>
                    </div>
            {% endif %}
            {% endwith %}
            <br>
            </div>
            <div>
            {{ form.submit(class="btn btn-lg btn-primary btn-block") }}
            </div><br>
            <a href="{{url_for('up_rank.login')}}" class="btn btn-lg btn-info btn-block ">login</a>
        </form>

{% endblock %}